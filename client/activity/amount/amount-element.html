<link rel="import" href="../../external/polymer/polymer.html">
<script src="../../external/setimmediate/setImmediate.js"></script>
<script src="../../external/co/co.js"></script>
<dom-module id="amount-element">
  <template>
    <h2>{{amount}} Activities</h2>
  </template>

  <script>
  Polymer({
    is: 'amount-element',
    // Fires when an instance of the element is created
    created: co(function * () {
      const response = yield fetch('/api/v1/activity?amount=true')
      const json = yield response.json()
      this.amount = json.amount
    }),
    // Fires when the local DOM has been fully prepared
    ready: () => '',

    // Fires when the element was inserted into the document
    attached: () => '',

    // Fires when the element was removed from the document
    detached: () => '',

    // Fires when an attribute was added, removed, or updated
    attributeChanged: (name, type) => '',

    properties: {
      amount: {
        type: Number,
        value: 0
      }
    }
  });
  </script>
</dom-module>
